{"openapi": "3.1.0", "info": {"title": "FastAPI", "version": "0.1.0"}, "paths": {"/api/chat/{chat_id}/message/": {"get": {"tags": ["chat", "message"], "summary": "Get Messages", "operationId": "get_messages_api_chat__chat_id__message__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "chat_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Chat Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Message"}, "title": "Response Get Messages Api Chat  Chat Id  Message  Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["chat", "message"], "summary": "Create Message", "operationId": "create_message_api_chat__chat_id__message__post", "security": [{"HTTPBearer": []}], "parameters": [{"name": "chat_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Chat Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateMessageDTO"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/chat/": {"get": {"tags": ["chat"], "summary": "Get All Chats", "operationId": "get_all_chats_api_chat__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "n", "in": "query", "required": false, "schema": {"type": "integer", "default": 10, "title": "N"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/Chat"}, "title": "Response Get All Chats Api Chat  Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["chat"], "summary": "Create Chat", "operationId": "create_chat_api_chat__post", "security": [{"HTTPBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateChatDTO"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Chat"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/chat/{chat_id}": {"get": {"tags": ["chat"], "summary": "Get Chat", "operationId": "get_chat_api_chat__chat_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "chat_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Chat Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Chat"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["chat"], "summary": "Update Chat", "operationId": "update_chat_api_chat__chat_id__patch", "security": [{"HTTPBearer": []}], "parameters": [{"name": "chat_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Chat Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateChatDTO"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Chat"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/inference/sql": {"post": {"tags": ["inference"], "summary": "Generate Sql", "operationId": "generate_sql_api_inference_sql_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GenerateSQLDTO"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/datasource/": {"get": {"tags": ["datasource"], "summary": "Get All Datasource", "operationId": "get_all_datasource_api_datasource__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}, "security": [{"HTTPBearer": []}]}, "post": {"tags": ["datasource"], "summary": "Create Datasource", "operationId": "create_datasource_api_datasource__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateDatasourceDTO"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"HTTPBearer": []}]}}, "/api/datasource/{datasource_id}": {"get": {"tags": ["datasource"], "summary": "Get Datasource By Id", "operationId": "get_datasource_by_id_api_datasource__datasource_id__get", "security": [{"HTTPBearer": []}], "parameters": [{"name": "datasource_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Datasource Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["datasource"], "summary": "Delete Datasource", "operationId": "delete_datasource_api_datasource__datasource_id__delete", "security": [{"HTTPBearer": []}], "parameters": [{"name": "datasource_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Datasource Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/dashboard/": {"get": {"tags": ["dashboard"], "summary": "Root", "operationId": "root_api_dashboard__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/snippet/": {"get": {"tags": ["snippet"], "summary": "Root", "operationId": "root_api_snippet__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}, "security": [{"HTTPBearer": []}]}}, "/": {"get": {"summary": "Get Version", "operationId": "get_version__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/health": {"get": {"summary": "Health Check", "operationId": "health_check_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"Agent": {"type": "string", "enum": ["CHATBOT", "USER"], "title": "Agent"}, "Chat": {"properties": {"id": {"type": "string", "title": "Id"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "userId": {"type": "string", "title": "Userid"}, "createdAt": {"type": "string", "format": "date-time", "title": "Createdat"}, "updatedAt": {"type": "string", "format": "date-time", "title": "Updatedat"}, "User": {"anyOf": [{"$ref": "#/components/schemas/User"}, {"type": "null"}]}, "Message": {"anyOf": [{"items": {"$ref": "#/components/schemas/Message"}, "type": "array"}, {"type": "null"}], "title": "Message"}}, "type": "object", "required": ["id", "userId", "createdAt", "updatedAt"], "title": "Chat", "description": "Represents a Chat record"}, "CreateChatDTO": {"properties": {"message": {"type": "string", "title": "Message"}, "agent": {"anyOf": [{"const": "USER"}, {"const": "CHATBOT"}], "title": "Agent", "default": "USER"}}, "type": "object", "required": ["message"], "title": "CreateChatDTO"}, "CreateDatasourceDTO": {"properties": {"name": {"type": "string", "title": "Name"}, "engine": {"type": "string", "title": "Engine"}, "url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Url"}}, "type": "object", "required": ["name", "engine"], "title": "CreateDatasourceDTO"}, "CreateMessageDTO": {"properties": {"content": {"type": "string", "title": "Content"}, "agent": {"anyOf": [{"const": "USER"}, {"const": "CHATBOT"}], "title": "Agent"}}, "type": "object", "required": ["content", "agent"], "title": "CreateMessageDTO"}, "Datasource": {"properties": {"id": {"type": "string", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "engine": {"type": "string", "title": "Engine"}, "userId": {"type": "string", "title": "Userid"}, "url": {"type": "string", "title": "Url"}, "createdAt": {"type": "string", "format": "date-time", "title": "Createdat"}, "updatedAt": {"type": "string", "format": "date-time", "title": "Updatedat"}, "User": {"anyOf": [{"$ref": "#/components/schemas/User"}, {"type": "null"}]}}, "type": "object", "required": ["id", "name", "engine", "userId", "url", "createdAt", "updatedAt"], "title": "Datasource", "description": "Represents a Datasource record"}, "GenerateSQLDTO": {"properties": {"prompt": {"type": "string", "title": "Prompt"}, "dbUrl": {"type": "string", "title": "Dburl"}, "generationType": {"type": "string", "title": "Generationtype", "default": "DIN-SQL"}, "model": {"type": "string", "title": "Model", "default": "GPT-4"}}, "type": "object", "required": ["prompt", "dbUrl"], "title": "GenerateSQLDTO"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "Message": {"properties": {"id": {"type": "string", "title": "Id"}, "content": {"type": "string", "title": "Content"}, "agent": {"$ref": "#/components/schemas/Agent"}, "chatId": {"type": "string", "title": "Chatid"}, "createdAt": {"type": "string", "format": "date-time", "title": "Createdat"}, "updatedAt": {"type": "string", "format": "date-time", "title": "Updatedat"}, "chat": {"anyOf": [{"$ref": "#/components/schemas/Chat"}, {"type": "null"}]}}, "type": "object", "required": ["id", "content", "agent", "chatId", "createdAt", "updatedAt"], "title": "Message", "description": "Represents a Message record"}, "UpdateChatDTO": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}}, "type": "object", "title": "UpdateChatDTO"}, "User": {"properties": {"id": {"type": "string", "title": "Id"}, "uid": {"type": "string", "title": "Uid"}, "name": {"type": "string", "title": "Name"}, "username": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Username"}, "email": {"type": "string", "title": "Email"}, "image": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Image"}, "provider": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider"}, "Datasource": {"anyOf": [{"items": {"$ref": "#/components/schemas/Datasource"}, "type": "array"}, {"type": "null"}], "title": "Datasource"}, "Chat": {"anyOf": [{"items": {"$ref": "#/components/schemas/Chat"}, "type": "array"}, {"type": "null"}], "title": "Chat"}, "createdAt": {"type": "string", "format": "date-time", "title": "Createdat"}, "updatedAt": {"type": "string", "format": "date-time", "title": "Updatedat"}}, "type": "object", "required": ["id", "uid", "name", "email", "createdAt", "updatedAt"], "title": "User", "description": "Represents a User record"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}, "securitySchemes": {"HTTPBearer": {"type": "http", "scheme": "bearer"}}}}